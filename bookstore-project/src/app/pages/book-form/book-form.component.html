<h2>Book Form</h2>

<form [formGroup]="bookForm" (ngSubmit)="onSubmit()" novalidate>

  <div>
    <label for="title">Title:</label>
    <input type="text"
           id="title"
           name="title"
           formControlName="title"
           maxlength="50"
           required>
    <div *ngIf="f['title'].touched && f['title'].invalid" class="error">
      <div *ngIf="f['title'].errors && f['title'].errors['required']">Title is required.</div>
      <div *ngIf="f['title'].errors && f['title'].errors['maxlength']">Title should be max 50 character.</div>
    </div>
  </div>

  <div>
    <label for="author">Author:</label>
    <input type="text"
           id="author"
           name="author"
           formControlName="author"
           maxlength="50"
           required>
    <div *ngIf="f['author'].touched && f['author'].invalid" class="error">
      <div *ngIf="f['author'].errors && f['author'].errors['required']">Author is required.</div>
      <div *ngIf="f['author'].errors && f['author'].errors['maxlength']">Author should be max 50 character.</div>
    </div>
  </div>

  <div>
    <label for="publicationDate">Publication Date:</label>
    <input type="text"
           id="publicationDate"
           name="publicationDate"
           formControlName="publicationDate"
           pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}"
           placeholder="dd-MM-yyyy"
           required>
    <div *ngIf="f['publicationDate'].touched && f['publicationDate'].invalid" class="error">
      <div *ngIf="f['publicationDate'].errors && f['publicationDate'].errors['required']">Publication date is required.</div>
      <div *ngIf="f['publicationDate'].errors && f['publicationDate'].errors['pattern']">Date should be of format 'dd-MM-yyyy'</div>
    </div>
  </div>

  <div>
    <button type="submit" [disabled]="!bookForm.valid">Add book</button>
  </div>

</form>

